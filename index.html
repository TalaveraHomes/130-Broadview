<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to Your Talavera Home</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto', sans-serif; margin: 0; padding: 0; background: #fffdf9; color: #1f1f1f; }
    header {
      position: relative; height: 90vh;
      background: url('195410.jpeg') no-repeat center center/cover;
      display: flex; justify-content: center; align-items: center;
      text-align: center; color: white; flex-direction: column;
    }
    header::before { content: ""; position: absolute; inset: 0; background: rgba(0,0,80,.25); }
    /* Gold welcome box (0.6 opacity) */
    header .content { position: relative; z-index: 1; background: rgba(192, 128, 44, 0.6); padding: 1rem 2rem; border-radius: 8px; }
    header a.logo-link { position: absolute; top: 20px; left: 20px; z-index: 2; }
    header img.logo { height: 100px; }

    nav { display: flex; flex-wrap: wrap; justify-content: center; background: #c0802c; isolation: isolate; }
    nav a { color: #fff; text-decoration: none; padding: 1rem; font-weight: bold; transition: background .3s; }
    nav a:hover { background: #000050; }

    .container section { display: none; padding: 2rem; max-width: 1100px; margin: auto; }
    .container section.active { display: block; }
    h2 { color: #000050; margin-top: 0; }
    ul { list-style: none; padding: 0; }
    ul li { padding: .5rem 0; }

    .pdf-frame { width: 100%; height: 80vh; border: none; background: #fff; box-shadow: 0 0 0 1px #eee inset; }

    .contact-links a, .referral-form button {
      display: inline-block; margin: 0.5rem 1rem 0.5rem 0; padding: 0.75rem 1.5rem;
      background: #000050; color: white; text-decoration: none; border-radius: 6px; font-weight: bold;
      transition: background 0.3s; border: 0; cursor: pointer;
    }
    .contact-links a:hover, .referral-form button:hover { background: #c0802c; }

    footer { background: #000050; color: #fff; text-align: center; padding: 1rem; }

    form input, form textarea { width: 100%; padding: 0.75rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }

    /* --- Selections gallery styles --- */
    .selections-toolbar { display: flex; gap: .75rem; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; }
    .chip { display: inline-block; padding: .4rem .8rem; border-radius: 999px; border: 1px solid #e0d7c9; background: #fffaf2; font-weight: 700; color: #000050; }
    .muted { color: #5a5a5a; font-size: .95rem; }

    .gallery { display: grid; grid-template-columns: repeat( auto-fit, minmax(220px, 1fr) ); gap: 16px; }
    .card {
      background: #ffffff; border: 1px solid #eee5d9; border-radius: 12px; overflow: hidden;
      box-shadow: 0 2px 12px rgba(0,0,0,.04); display: flex; flex-direction: column;
      transition: transform .2s ease, box-shadow .2s ease; cursor: pointer;
    }
    .card:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(0,0,0,.06); }
    .card .thumb { width: 100%; height: 160px; background: #f5f2ed; display: flex; align-items: center; justify-content: center; }
    .card img { width: 100%; height: 160px; object-fit: cover; display: block; }
    .placeholder { font-weight: 700; color: #000050; text-transform: uppercase; font-size: 0.95rem; padding: 0 10px; text-align: center; }

    .card .info { padding: 12px 14px 14px; }
    .card .title { font-weight: 700; color: #000050; margin: 0 0 6px; }
    .card .meta { font-size: .95rem; color: #4b4b4b; line-height: 1.4; }
    .card .links { margin-top: 10px; }
    .card .links a { font-size: .92rem; color: #000050; text-decoration: none; border-bottom: 1px dashed #000050; }
    .card .links a:hover { color: #c0802c; border-bottom-color: #c0802c; }

    .selections-list { margin-top: 1.5rem; border-top: 1px solid #eee5d9; padding-top: 1rem; }
    .selections-list li { padding: .4rem 0; border-bottom: 1px dashed #eee5d9; }

    .loader { color:#5a5a5a; font-size:.95rem; }
    .error { color:#9b2c2c; background:#fff5f5; border:1px solid #fed7d7; padding:.75rem 1rem; border-radius:8px; }
  </style>

  <!-- Inline selections data (edit paths/notes/links as needed) -->
  <script type="application/json" id="selections-data">
  [
    {"name":"Exterior Paint","note":"","link":"","image":"selections/exterior-paint.jpg"},
    {"name":"Exterior Trim","note":"","link":"","image":"selections/exterior-trim.jpg"},
    {"name":"Interior Paint","note":"","link":"","image":"selections/interior-paint.jpg"},
    {"name":"Interior Trim","note":"","link":"","image":"selections/interior-trim.jpg"},
    {"name":"Stain","note":"","link":"","image":"selections/stain.jpg"},
    {"name":"Carpet","note":"","link":"","image":"selections/carpet.jpg"},
    {"name":"LVP","note":"","link":"","image":"selections/lvp.jpg"},
    {"name":"Wall tile","note":"","link":"","image":"selections/wall-tile.jpg"},
    {"name":"Backsplash","note":"","link":"","image":"selections/backsplash.jpg"},
    {"name":"Appliances","note":"","link":"","image":"selections/appliances.jpg"},
    {"name":"Cabinets","note":"","link":"","image":"selections/cabinets.jpg"},
    {"name":"Countertop","note":"","link":"","image":"selections/countertop.jpg"},
    {"name":"Door Hardware","note":"","link":"","image":"selections/door-hardware.jpg"},
    {"name":"Lighting Fixtures","note":"","link":"","image":"selections/lighting-fixtures.jpg"}
  ]
  </script>

  <script>
    function showSection(id) {
      document.querySelectorAll('.container section').forEach(s => s.classList.remove('active'));
      const el = document.getElementById(id);
      if (el) el.classList.add('active');
      if (history.pushState) { history.pushState(null, "", "#" + id); }
    }

    function buildSelections(items) {
      const gallery = document.getElementById('selectionsGallery');
      const list    = document.getElementById('selectionsList');

      // Gallery
      gallery.innerHTML = items.map(it => {
        const imgPath = it.image || "";
        const hasImg  = imgPath.length > 0;
        const imgHtml = hasImg
          ? `<img loading="lazy" src="${imgPath}" alt="${it.name}">`
          : `<div class="placeholder">${it.name}</div>`;
        const clickAttr   = it.link ? `onclick="window.open('${it.link}','_blank','noopener')"` : '';
        const photoLink   = hasImg ? `<a href="${imgPath}" target="_blank" rel="noopener">View Photo</a>` : ``;
        const detailsLink = it.link ? `<a href="${it.link}" target="_blank" rel="noopener">View Details</a>` : ``;

        return `
          <article class="card" ${clickAttr}>
            <div class="thumb">${imgHtml}</div>
            <div class="info">
              <p class="title">${it.name || ""}</p>
              ${it.note ? `<p class="meta">${it.note}</p>` : ``}
              <div class="links">${[detailsLink, photoLink].filter(Boolean).join("&nbsp; ")}</div>
            </div>
          </article>
        `;
      }).join('');

      // List
      list.innerHTML = items.map(it => {
        const note = it.note ? ` — ${it.note}` : '';
        const link = it.link ? ` <a href="${it.link}" target="_blank" rel="noopener">(link)</a>` : '';
        return `<li><strong>${it.name || ""}</strong>${note}${link}</li>`;
      }).join('');
    }

    document.addEventListener('DOMContentLoaded', () => {
      const hash = location.hash ? location.hash.substring(1) : null;
      if (hash && document.getElementById(hash)) showSection(hash);
      document.querySelectorAll('a[data-section]').forEach(a => {
        a.addEventListener('click', (e) => { e.preventDefault(); showSection(a.getAttribute('data-section')); });
      });

      // Build from inline JSON (no network dependency)
      try {
        const inline = document.getElementById('selections-data').textContent.trim();
        const items = inline ? JSON.parse(inline) : [];
        buildSelections(items);
      } catch (e) {
        const gallery = document.getElementById('selectionsGallery');
        gallery.innerHTML = `<div class="error">Selections data is not valid JSON. Please recheck the block with id="selections-data".</div>`;
        console.error(e);
      }
    });
  </script>
</head>
<body>
  <header>
    <a href="./" class="logo-link">
      <img src="Gold_Talavera_Logo.png" alt="Talavera Homes Logo" class="logo">
    </a>
    <div class="content">
      <h1>Welcome to Your New Talavera Home</h1>
      <p>From our family to yours — thank you for choosing Talavera Homes. We're honored to have built the place you'll call home.</p>
    </div>
  </header>

  <nav>
    <a href="#handbook" data-section="handbook">Homeowner Handbook</a>
    <a href="https://www.nationalbuildergroup.com/builder/talavera-homes/service/" target="_self" rel="noopener">Service Request</a>
    <a href="#selections" data-section="selections">Home Selections</a>
    <a href="#tips" data-section="tips">Helpful Tips</a>
    <a href="#referral" data-section="referral">Referral Program</a>
    <a href="#contact" data-section="contact">Contact Us</a>
  </nav>

  <div class="container">
    <section id="handbook">
      <h2>Homeowner Handbook</h2>
      <iframe class="pdf-frame" src="Talavera%20Homes%20Homeowner%20Handbook.pdf#view=FitH&toolbar=1&navpanes=0" title="Talavera Homes Homeowner Handbook"></iframe>
      <p style="margin-top:1rem;">Having trouble viewing? <a href="Talavera%20Homes%20Homeowner%20Handbook.pdf">Open the PDF directly</a>.</p>
    </section>

    <section id="referral">
      <h2>Referral Program</h2>
      <form action="mailto:Eric@Talavera-homes.com,Cindystensrudrealtor@gmail.com?subject=Client%20Website%20Referral" method="post" enctype="text/plain" class="referral-form">
        <input type="text" name="Your Name" placeholder="Your Name" required>
        <input type="text" name="Your Address" placeholder="Your Address" required>
        <input type="text" name="Referral Name" placeholder="Referral's Name" required>
        <input type="tel" name="Referral Phone" placeholder="Referral's Phone Number" required>
        <input type="email" name="Referral Email" placeholder="Referral's Email Address" required>
        <textarea name="Referral Details" placeholder="Describe what your referral is looking for in a home and where they are currently looking" rows="5" required></textarea>
        <button type="submit">Submit Referral</button>
      </form>
    </section>

    <section id="selections">
      <h2>Home Selections</h2>
      <div class="selections-toolbar">
        <span class="chip">Your chosen finishes & fixtures</span>
        <span class="muted">Photos + quick details.</span>
      </div>
      <div id="selectionsGallery" class="gallery"></div>
      <ul id="selectionsList" class="selections-list"></ul>
      <p class="muted" style="margin-top:1rem;">Tip: Update this section by editing the JSON block with id <code>selections-data</code> or by replacing images in <code>/selections/</code>.</p>
    </section>

    <section id="tips"><h2>Helpful Tips</h2><p>Coming soon.</p></section>

    <section id="contact">
      <h2>Contact Us</h2>
      <div class="contact-links">
        <a href="tel:2109003353">📞 Call Us</a>
        <a href="sms:2109003353">💬 Text Us</a>
        <a href="mailto:service@talavera-homes.com">✉️ Email Us</a>
      </div>
      <p><strong>Phone:</strong> 210-900-3353<br>
         <strong>Text:</strong> 210-900-3353<br>
         <strong>Email:</strong> service@talavera-homes.com</p>
    </section>
  </div>

  <footer>
    &copy; 2025 Talavera Homes. All rights reserved.
  </footer>
</body>
</html>
